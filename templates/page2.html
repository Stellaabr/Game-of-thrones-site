<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–µ—Å–Ω—å –õ—å–¥–∞ –∏ –ü–ª–∞–º–µ–Ω–∏: –¢–∞–±–ª–∏—Ü—ã</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
</head>
<body class="{{ 'light-theme' if theme == 'light' else '' }}">
    <button class="theme-toggle" onclick="toggleTheme()">
        {{ '‚òÄÔ∏è Light' if theme == 'dark' else 'üåô Dark' }}
    </button>
    <div class="container">
        <div class="header-with-bg">
            <div class="header-content">
            <h1>–ü–µ—Å–Ω—å –õ—å–¥–∞ –∏ –ü–ª–∞–º–µ–Ω–∏</h1>
            <a href="{{ url_for('export_csv') }}" class="export-button">–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</a>
                <a href="{{ url_for('home') }}" class="characters-button">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            </div>
    </div>

        <form method="POST">
        <div class="slider-container">
            <input type="range" min="1" max="4" step="1" value="{{ slider_value }}"
                   class="slider" id="yearSlider" name="slider_value"
                   onchange="this.form.submit()">
            <div class="table-labels">
                <span>–ì–æ–¥—ã</span>
                <span>–î–æ–º–∞</span>
                <span>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</span>
                <span>–ö–Ω–∏–≥–∏</span>
            </div>
        </div>
        </form>

        {% if plot_url %}
        <div class="chart-container">
            <img src="data:image/png;base64,{{ plot_url }}" alt="–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏">
        </div>
        {% endif %}
</div>
    <script>
        function toggleTheme() {
            fetch('/toggle_theme').then(() => window.location.reload());
        }
    </script>
</body>
</html>